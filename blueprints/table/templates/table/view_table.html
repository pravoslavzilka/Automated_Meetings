{% extends "layout.html" %}

{% block title %}
    Schedule {{ table.name }}
{% endblock title %}

{% block content %}

    <style>
      .none-object {
        padding:20px;
        text-align:center;
        width:250px;
      }
      .td-main {
        width:200px;
        padding:10px;
        text-align:center;
      }
       .text-center {
          height:140px;
       }
    </style>

    <body>
        <div class="card col-lg-6 col-xl-6 mx-auto" style="margin:50px;">
          <div class="card-body">
            <h4 class="card-title">Info about schedule</h4>
              <label><strong>Name</strong>: {{ table.name }}</label> <br/>
              <label><strong>Key</strong>: {{ table.key }}</label>  <br/>
              <label><strong>Admin</strong>: {{ table.admin_user }}</label> <br/>
              <label><strong>Total users</strong>: {{ table.users |length }}</label> <br/>
              <label><strong>Active users</strong>: {{ table.active_users |length}}</label> <br/>
            <div class="row">
                <div class="col-lg-12">
                    <button class="btn btn-secondary float-right">Clone</button>
                    {% if current_user.username == table.admin_user %}
                      <a style="margin-right:10px;" href="{{url_for('table_bp.edit_table',token=table.key)}}" class="btn btn-primary float-right">Edit</a>
                    {% endif %}
                </div>
            </div>
          </div>

        </div>
        <table style="margin-bottom:300px;" class="col-lg-11 col-xl-11 mx-auto">
          <thead>
            <tr>
              <th class="text-center" style="text-align:center;" scope="col">#</th>
              <th class="text-center" scope="col">1</th>
              <th class="text-center" scope="col">2</th>
              <th class="text-center" scope="col">3</th>
              <th class="text-center" scope="col">4</th>
              <th class="text-center" scope="col">5</th>
              <th class="text-center" scope="col">6</th>
              <th class="text-center" scope="col">7</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th class="text-center" style="width:100px;" scope="row">Mon</th>
              {% for lesson in lessons["mon"] %}
                {% if lesson.name != "none" %}
                  <td class="td-main">
                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>
                  </td>
                {% else %}
                  <td class="td-main">&times;</td>
                {% endif %}
              {% endfor %}


            <tr class="text-center">
              <th scope="row">Thu</th>
              {% for lesson in lessons["thu"] %}
                {% if lesson.name != "none" %}

                  <td class="td-main">

                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>

                  </td>
                {% else %}
                  <td class="td-main" >&times;</td>
                {% endif %}
              {% endfor %}
            </tr>
            <tr class="text-center">
              <th scope="row">Wen</th>
              {% for lesson in lessons["wen"] %}
                {% if lesson.name != "none" %}

                  <td class="td-main">

                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>

                  </td>
                {% else %}
                  <td class="td-main">&times;</td>
                {% endif %}
              {% endfor %}
            </tr>
          <tr class="text-center">
              <th scope="row">Thur</th>
              {% for lesson in lessons["thur"] %}
                {% if lesson.name != "none" %}

                  <td class="td-main">

                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>

                  </td>
                {% else %}
                  <td class="td-main" >&times;</td>
                {% endif %}
              {% endfor %}
            </tr>
            <tr class="text-center">
              <th scope="row">Fri</th>
              {% for lesson in lessons["fri"] %}
                {% if lesson.name != "none" %}

                  <td class="td-main">

                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>

                  </td>
                {% else %}
                  <td class="td-main">&times;</td>
                {% endif %}
              {% endfor %}
            </tr>
            <tr class="text-center">
              <th scope="row">Sat</th>
              {% for lesson in lessons["sat"] %}
                {% if lesson.name != "none" %}

                  <td class="td-main">

                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>

                  </td>
                {% else %}
                  <td class="td-main">&times;</td>
                {% endif %}
              {% endfor %}
            </tr>
            <tr class="text-center">
              <th scope="row">Sun</th>
              {% for lesson in lessons["sun"] %}
                {% if lesson.name != "none" %}

                 <td class="td-main">

                    <div class="card text-white mb-3" style="max-width: 18rem;background-color:{{ lesson.col }};">
                      <a style="color:white;"  type="button" data-bookid="{{ lesson.number }}" data-col="{{ lesson.col }}" data-name="{{ lesson.name }}" data-link="{{ lesson.link }}" data-start="{{ lesson.start.strftime('%H:%M') }}" data-end="{{ lesson.end.strftime('%H:%M') }}" data-day="{{ lesson.day }}" data-toggle="modal" data-target="#exampleModal">
                        <div class="card-header">{{ lesson.name }}</div>
                      </a>
                      <div class="card-body">
                        <h6 class="card-title">{{ lesson.start.strftime('%H:%M') }} - {{ lesson.end.strftime('%H:%M') }}</h6>
                        <a style="color:white;" target="_blank" href="{{ lesson.link }}">Link</a> <br/>
                      </div>
                    </div>

                  </td>
                {% else %}
                  <td class="td-main">&times;</td>
                {% endif %}
              {% endfor %}
            </tr>
          </tbody>
        </table>

    </body>

{% endblock content %}